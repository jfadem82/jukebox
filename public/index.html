<!DOCTYPE html>
<html ng-app="jukebox">
<head>
	<title>Jukebox</title>
	<script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.5/angular.min.js"></script>
	<script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-router/0.2.18/angular-ui-router.js"></script>
	<script type="text/javascript" src="https://cdn.rawgit.com/auth0/angular-jwt/master/dist/angular-jwt.js"></script>

	<script src="https://w.soundcloud.com/player/api.js" type="text/javascript"></script>

	<!-- Bootstrap -->
	<!-- Latest compiled and minified CSS -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css" integrity="sha384-1q8mTJOASx8j1Au+a5WDVnPi2lkFfwwEAa8hDDdjZlpLegxhjVME1fgjWPGmkzs7" crossorigin="anonymous">

	<!-- Optional theme -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap-theme.min.css" integrity="sha384-fLW2N01lMqjakBkx3l/M9EahuwpSfeNvV63J5ezn3uZzapT0u7EYsXMjQV+0En5r" crossorigin="anonymous">

	<link rel="stylesheet" href="/css/style.css" media="screen" title="no title" charset="utf-8">

	<!-- Latest compiled and minified JavaScript -->
	<!-- <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js" integrity="sha384-0mSbJDEHialfmuBBQP6A4Qrprq5OVfW37PRR3j5ELqxss1yVqOtnepnHVP9aJ7xS" crossorigin="anonymous"></script> -->
	<!-- End bootstrap -->

	<!-- Font Awesome -->
	<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" media="screen" title="no title" charset="utf-8">

	<!-- UI Bootstrap -->
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.2/ui-bootstrap.js"></script>
	<script src="https://cdnjs.cloudflare.com/ajax/libs/angular-ui-bootstrap/1.3.2/ui-bootstrap-tpls.js"></script>

	<script src="js/app.js"></script>
	<script src="js/usersController.js"></script>
	<script src="js/authFactories.js"></script>
	<script src="js/router.js"></script>
	<script src="js/editFactories.js"></script>
	<script src="js/jwtController.js"></script>
	<script src="js/collapseCtrl.js"></script>
	<script src="js/accordianCtrl.js"></script>

<style type="text/css">
body {
/*margin:40px auto;
max-width:650px;
line-height:1.6;*/
font-size:18px;
color:#222;
background: #eee;
/*padding:0 10px */
}
h1,h2,h3 {
line-height:1.2
}
</style>
</head>
	<body ng-controller="UsersController as usersCtrl">

		<nav><h3>
			<a ui-sref="login">login</a>
			<a ui-sref="signup">signup</a>
			<a ui-sref="home">home</a>
			<a ui-sref="search">search</a>
			<a ui-sref="newplaylist">new playlist</a></h3>
			<a ui-sref="playlists">Your playlists</a></h3>
		</nav>

		<div class="container">
			<div ui-view></div>
		</div>
		<!-- <h1>This is the id I'm looking for: {{usersCtrl.playlist}}</h1> -->
		<!-- <iframe id="sc-widget" src="https://w.soundcloud.com/player/?url=https://api.soundcloud.com/tracks/2996795" width="25%" height="25%" scrolling="no" frameborder="no"></iframe>

		<script src="https://w.soundcloud.com/player/api.js" type="text/javascript"></script>
		<script type="text/javascript">
		  (function(){
		    var widgetIframe = document.getElementById('sc-widget'),
		        widget       = SC.Widget(widgetIframe);

		    widget.bind(SC.Widget.Events.READY, function() {
		      widget.bind(SC.Widget.Events.PLAY, function() {
		        // get information about currently playing sound
		        widget.getCurrentSound(function(currentSound) {
		          console.log('sound ' + currentSound.get('') + 'began to play');
		        });
		      });
		      // get current level of volume
		      widget.getVolume(function(volume) {
		        //console.log('current volume value is ' + volume);
		      });
		      // set new volume level
		      widget.setVolume(50);
		      // get the value of the current position
					widget.getDuration(function(duration) {
						//console.log("duration",duration);
					})
					//////////////////// Essential Event Finish ///////////////////////
					widget.bind(SC.Widget.Events.FINISH, function(){
            //var div = document.getElementById('next')
						//div.setAttribute("ng-init", "usersCtrl.nextsong()")
						function simulateClick() {
						  var event = new MouseEvent('click', {
						    'view': window,
						    'bubbles': true,
						    'cancelable': true
						  });
						  var cb = document.getElementById('next');
						  var canceled = !cb.dispatchEvent(event);
						  if (canceled) {
						    // A handler called preventDefault.
						    alert("canceled");
						  } else {
						    // None of the handlers called preventDefault.
								console.log("this shit fired off");
						  }
						}
						simulateClick()
						//console.log("the finish thing is happening!!!!!!!!");
          })
					//////////////////// Essential Event Finish ///////////////////////
					// var div = document.getElementById('next')
					// div.setAttribute("ng-click", "usersCtrl.nextsong()")
		    });
			}());
		</script> -->
		<!-- <button type="button" id="next" name="button" ng-click="usersCtrl.nextsong()">Next Song</button> -->


	</body>

</html>
